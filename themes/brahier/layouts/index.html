{{ define "main" }}
{{ range where site.RegularPages "Type" "home" }}
  {{ if ne .Params.disabled 1}}
  {{ $currentPage := . }}
  {{ with .Params.widget }}
  {{ $widgetPath := printf "widgets/%s.html" . }}
  <section {{ with $currentPage.Params.id }}id="{{ . }}"{{ end }}>
    {{- partial $widgetPath $currentPage -}}
  </section>
  {{ end }}
  {{ end }}
{{ end }}
{{ end }}